<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content=""IE=edge>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/css/calc.css">
    <title>AMT - Joule Calculator</title>
</head>

<body onload="document.getElementById('defaultOpen').click();">
    <div class="tab">
        <button class="tablinks" onclick="openCalc(event,'Simple')" id="defaultOpen">Simple</button>
        <button class="tablinks" onclick="openCalc(event,'Advanced')">Advanced</button>
        <button class="tablinks" onclick="openCalc(event,'Precision')">Precision</button>
    </div>

    <script>
        function openCalc(evt, calcType) 
        {
            // Declare all variables
            var i, tabcontent, tablinks;

            // Get all elements with class="tabcontent" and hide them
            tabcontent = document.getElementsByClassName("slidecontainer");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }

            // Get all elements with class="tablinks" and remove the class "active"
            tablinks = document.getElementsByClassName("tablinks");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }

            // Show the current tab, and add an "active" class to the button that opened the tab
            document.getElementById(calcType).style.display = "block";
            evt.currentTarget.className += " active";
        }
    </script>

    <!-------------------------------------- Simple Calculator --------------------------------->
    <div class="slidecontainer" id="Simple">
        <div class="slidebox">
            <h1 class="displaytext">Pelet Weight (Mass): <span id="wout"></span>g</h1>
            <input type="range" min="0" max="11" value="4" class="slider" id="weight">
            </div>
    
            <div class="slidebox">
            <h1 class="displaytext">Muzzle Velocity (FPS): <span id="fout"></span> FPS</h1>
            <input type="range" min="0" max="650" value="310" class="slider" id="FPS">
            </div>
    
            <div class="slidebox">
            <h1 class="displaytext">Kinetic Energy (Joules): <span id="jout"></span>J</h1>
            <input type="range" min="0" max="10" step=".01" value="1.43" class="slider" id="jouler">
            </div>

        <script>
            /* --------------------------------- slider scripts --------------------------------- */
            var joutput = document.getElementById("jout");
            var ffps = 310;
            var weighted = .32/1000;
            var joules = 1.43;
            var tffps = 310;
            var tjoules = 1.43;
            

            /* ---------------------------------  weight slider --------------------------------- */
            var wslider = document.getElementById("weight");
            var woutput = document.getElementById("wout");
            woutput.innerHTML = weighted*1000;
            
            wslider.oninput = function() 
            {
                switch(wslider.value) 
                {
                case '0':
                    woutput.innerHTML = .20;
                    weighted = .20/1000;
                    break;
                case '1':
                    woutput.innerHTML = .25;
                    weighted = .25/1000;                    
                    break;
                case '2':
                    woutput.innerHTML = .28;
                    weighted = .28/1000;                    
                    break;
                case '3':
                    woutput.innerHTML = .30;
                    weighted = .30/1000;
                    break;
                case '4':
                    woutput.innerHTML = .32;
                    weighted = .32/1000;
                    break;
                case '5':
                    woutput.innerHTML = .36;
                    weighted = .36/1000;
                    break;
                case '6':
                    woutput.innerHTML = .40;
                    weighted = .40/1000;
                    break;
                case '7':
                    woutput.innerHTML = .42;
                    weighted = .42/1000;
                    break;
                case '8':
                    woutput.innerHTML = .45;
                    weighted = .45/1000;
                    break;
                case '9':
                    woutput.innerHTML = .48;
                    weighted = .48/1000;
                    break;
                case '10':
                    woutput.innerHTML = .50;
                    weighted = .50/1000;
                    break;
                case '11':
                    woutput.innerHTML = .52;
                    weighted = .52/1000;
                    break;
                default:
                    woutput.innerHTML = .32;
                    weighted = .32/1000;
                    break;
                }

                joules = (((1/2) * weighted) * ((ffps * 0.3048) ** 2));
                joutput.innerHTML = joules.toFixed(2);
                jslider.value = joules;
                ffps = (Math.sqrt((2*joules)/weighted)) * 3.28084;
                ffps = ffps.toFixed(0);
                foutput.innerHTML = ffps;
            }

            /* --- FPS slider --- */
            var fslider = document.getElementById("FPS")
            var foutput = document.getElementById("fout");
            foutput.innerHTML = ffps;

            fslider.oninput = function() 
            {
                ffps = this.value;
                foutput.innerHTML = ffps;

                tjoules = joules;
                joules = (((1/2) * weighted) * ((ffps * 0.3048) ** 2));
                joutput.innerHTML = joules.toFixed(2);
                jslider.value = joules;
            }

            /* --- Joule Slider --- */
            var jslider = document.getElementById("jouler");
            joutput.innerHTML = joules;

            jslider.oninput = function() 
            {
                joules = this.value;
                joutput.innerHTML = joules;

                tffps = ffps;
                ffps = (Math.sqrt((2*joules)/weighted)) * 3.28084;
                foutput.innerHTML = ffps.toFixed(0);
                fslider.value = ffps;
            }
        </script>
    </div>


    <!---------------------------------------- Advanced Calculator ------------------------------>
    <div class="slidecontainer" id="Advanced">
        <div class="slidebox">
        <h1 class="displaytext">Pelet Weight (Mass): <span id="awout"></span>g</h1>
        <input type="range" min="0" max="11" value="4" class="slider" id="aweight">
        </div>

        <div class="slidebox">
        <h1 class="displaytext">Muzzle Velocity (FPS): <span id="afout"></span> FPS</h1>
        <input type="range" min="0" max="650" value="310" class="slider" id="aFPS">
        </div>

        <div class="slidebox">
        <h1 class="displaytext">Kinetic Energy (Joules): <span id="ajout"></span>J</h1>
        <input type="range" min="0" max="10" step=".01" value="1.43" class="slider" id="ajouler">
        </div>

        <script>
            /* --------------------------------- slider scripts --------------------------------- */
            var ajoutput = document.getElementById("ajout");
            var affps = 310;
            var aweighted = .32/1000;
            var ajoules = 1.43;
            var atffps = 310;
            var atjoules = 1.43;
            

            /* ---------------------------------  weight slider --------------------------------- */
            var awslider = document.getElementById("aweight");
            var awoutput = document.getElementById("awout");
            awoutput.innerHTML = aweighted*1000;
            
            awslider.oninput = function() 
            {
                switch(awslider.value) 
                {
                case '0':
                    awoutput.innerHTML = .20;
                    aweighted = .20/1000;
                    break;
                case '1':
                    awoutput.innerHTML = .25;
                    aweighted = .25/1000;                    
                    break;
                case '2':
                    awoutput.innerHTML = .28;
                    aweighted = .28/1000;                    
                    break;
                case '3':
                    awoutput.innerHTML = .30;
                    aweighted = .30/1000;
                    break;
                case '4':
                    awoutput.innerHTML = .32;
                    aweighted = .32/1000;
                    break;
                case '5':
                    awoutput.innerHTML = .36;
                    aweighted = .36/1000;
                    break;
                case '6':
                    awoutput.innerHTML = .40;
                    aweighted = .40/1000;
                    break;
                case '7':
                    awoutput.innerHTML = .42;
                    aweighted = .42/1000;
                    break;
                case '8':
                    awoutput.innerHTML = .45;
                    aweighted = .45/1000;
                    break;
                case '9':
                    awoutput.innerHTML = .48;
                    aweighted = .48/1000;
                    break;
                case '10':
                    awoutput.innerHTML = .50;
                    aweighted = .50/1000;
                    break;
                case '11':
                    awoutput.innerHTML = .52;
                    aweighted = .52/1000;
                    break;
                default:
                    awoutput.innerHTML = .32;
                    aweighted = .32/1000;
                    break;
                }

                ajoules = (((1/2) * aweighted) * ((affps * 0.3048) ** 2));
                ajoutput.innerHTML = ajoules.toFixed(2);
                ajslider.value = ajoules;
                affps = (Math.sqrt((2*ajoules)/aweighted)) * 3.28084;
                affps = affps.toFixed(0);
                afoutput.innerHTML = affps;
                afslider.value = affps;
            }

            /* --- FPS slider --- */
            var afslider = document.getElementById("aFPS")
            var afoutput = document.getElementById("afout");
            afoutput.innerHTML = affps;

            afslider.oninput = function() 
            {
                affps = this.value;
                afoutput.innerHTML = affps;

                atjoules = ajoules;
                ajoules = (((1/2) * aweighted) * ((affps * 0.3048) ** 2));
                ajoutput.innerHTML = ajoules.toFixed(2);
                ajslider.value = ajoules;
            }

            /* --- Joule Slider --- */
            var ajslider = document.getElementById("ajouler");
            ajoutput.innerHTML = ajoules;

            ajslider.oninput = function() 
            {
                ajoules = this.value;
                ajoutput.innerHTML = ajoules;

                atffps = affps;
                affps = (Math.sqrt((2*ajoules)/aweighted)) * 3.28084;
                afoutput.innerHTML = affps.toFixed(0);
                afslider.value = affps;
            }
        </script>
    </div>
    <div class="slidecontainer" id="Precision">
        <h1>Kormit is a hoe</h1>
        <!---some precise ass shit in here :3 --->
        <label for="pweight">Pelet Weight</label>
        <select name="pweight" id="pweight">
            <option value="p2">0.20g</option>
            <option value="p25">0.25g</option>
            <option value="p28">0.28g</option>
            <option value="p30">0.30g</option>
            <option value="p32" selected="selected">0.32g</option>
            <option value="p36">0.36g</option>
            <option value="p40">0.40g</option>
            <option value="p42">0.42g</option>
            <option value="p45">0.45g</option>
            <option value="p48">0.48g</option>
            <option value="p50">0.50g</option>
            <option value="p52">0.52g</option>
        </select>
        <label for="pfps">Velocity(FPS)</label>
        <input type="number" id ="PFPS" name="pfps" size="3" required="TRUE" value="310"><br><br>
        <label for="pjoules">Kinetic Energy(Joules)</label>
        <input type="number" id="pjoules" name="pjoules" size="4" value="1.43"><br><br>
    </div>
</body>

</html>
